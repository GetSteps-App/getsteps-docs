---
title: "Route Tracking"
description: "How Steps records, stores, smooths, and exports your GPS route during and after a workout"
icon: "route"
---

## Overview

Steps records your GPS path throughout every outdoor workout, stores it securely with your workout in Apple Health, and displays a smoothed version on the map. After the workout you can view your route, watch a playback animation, and export it as a GPX file.

## User Experience

- **During a workout**: Your path is traced as a colored polyline on the live session map as you move.
- **After a workout**: The smoothed route appears on the map in Activity Detail and is used for the route playback animation and share image generation.
- **Indoor workouts**: No full route is recorded — only your last known location is stored so the workout can still be associated with location data in HealthKit.
- **GPX export**: Export your raw route as a `.gpx` file from the share sheet to use in other apps (Pro-gated).

## How It Works

<AccordionGroup>
  <Accordion title="GPS Recording" icon="satellite-dish">
    Steps uses a dedicated location manager during workouts with high accuracy (nearest 10 meters) and no distance filter, so every significant movement is captured. Only locations with a horizontal accuracy between 0 and 50 meters are recorded — poor-quality GPS readings are filtered out automatically.
  </Accordion>
  <Accordion title="Route Persistence" icon="floppy-disk">
    Location data is saved locally on your device as you move, so your route is safe even if the app is closed unexpectedly. When you reopen Steps after an interrupted workout, the saved route is restored and collection resumes seamlessly.
  </Accordion>
  <Accordion title="HealthKit Association" icon="heart-pulse">
    When you end a workout, Steps submits your full route to Apple Health using HealthKit's route builder. Your route is stored alongside your workout record in the Health app.
  </Accordion>
  <Accordion title="Route Smoothing" icon="bezier-curve">
    When you open a workout in Activity Detail, the raw GPS coordinates are smoothed using the Chaikin corner-cutting algorithm (2 passes). This removes minor GPS jitter and produces a clean, visually accurate route line without losing the true shape of your path. Elevation data is preserved through the smoothing process.
  </Accordion>
  <Accordion title="GPX Export" icon="file-export">
    The GPX export uses the original unsmoothed coordinates to preserve exact timestamps and GPS positions. The file follows the GPX 1.1 standard and includes elevation data where available.
  </Accordion>
</AccordionGroup>

## Route Data Flow

```
GPS sensor
  → Quality filter (accuracy 0–50 m)
  → Saved locally on device
  → Submitted to HealthKit route builder
  → On workout end: route finalized and stored in Health app
  → On detail view: raw locations fetched from Health → smoothed → displayed on map
  → For sharing/GPX: raw unsmoothed locations used to preserve original data
```

## Weather Integration

Location data also powers weather fetching. Steps checks your current position and refreshes weather data when:
- You have moved more than 5 km from the last weather fetch location.
- 15 minutes have passed since the last general weather refresh.
- During a workout, weather refreshes every 5 minutes independently.

## Pro Features

<Tip>
  Upgrade to Steps Pro to view routes in Activity Detail and export GPX files.
</Tip>

| Feature | Free | Pro |
|---|---|---|
| Route recording during workout | Yes | Yes |
| Route stored in Apple Health | Yes | Yes |
| Route map in Activity Detail | No | Yes |
| Route playback animation | No | Yes |
| GPX export | No | Yes |
